
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="记录一些关于数学、计算机的知识，以及一些日常。">
      
      
      
        <link rel="canonical" href="https://yfy.cqu.ai/archive/2020/">
      
      
        <link rel="prev" href="../2021/">
      
      
        <link rel="next" href="../2019/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>2020 - Rain的随笔</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2020" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Rain的随笔" class="md-header__button md-logo" aria-label="Rain的随笔" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Rain的随笔
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2020
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  博客

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
    
  
  关于

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
    
  
  标签

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../series/" class="md-tabs__link">
        
  
    
  
  系列

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tools/" class="md-tabs__link">
        
  
    
  
  工具

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../2024/" class="md-tabs__link">
          
  
  归档

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../category/homelab/" class="md-tabs__link">
          
  
  分类

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Rain的随笔" class="md-nav__button md-logo" aria-label="Rain的随笔" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Rain的随笔
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    博客
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    标签
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../series/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    系列
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工具
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    归档
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
      
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    2020
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#安装linux后的配置" class="md-nav__link">
    <span class="md-ellipsis">
      安装linux后的配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wsl记录" class="md-nav__link">
    <span class="md-ellipsis">
      WSL记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#字体分类" class="md-nav__link">
    <span class="md-ellipsis">
      字体分类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#在虚拟机上搭建overleaf" class="md-nav__link">
    <span class="md-ellipsis">
      在虚拟机上搭建overleaf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ucore-lab3-总结" class="md-nav__link">
    <span class="md-ellipsis">
      ucore lab3 总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ucore-lab2总结" class="md-nav__link">
    <span class="md-ellipsis">
      ucore lab2总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#关于2020到目前的一个总结" class="md-nav__link">
    <span class="md-ellipsis">
      关于2020到目前的一个总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#virtual-box配置双网卡" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual Box配置双网卡
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#编译原理总结" class="md-nav__link">
    <span class="md-ellipsis">
      编译原理总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloudview平台运行bad-apple" class="md-nav__link">
    <span class="md-ellipsis">
      CloudView平台运行bad apple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-dlib-in-c" class="md-nav__link">
    <span class="md-ellipsis">
      Use dlib in C++
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#安装使用opencvwindows" class="md-nav__link">
    <span class="md-ellipsis">
      安装使用OpenCV(windows)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#运行hpl" class="md-nav__link">
    <span class="md-ellipsis">
      运行HPL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#记录一次失眠" class="md-nav__link">
    <span class="md-ellipsis">
      记录一次失眠
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#井字棋与最大最小值算法" class="md-nav__link">
    <span class="md-ellipsis">
      井字棋与最大最小值算法
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vacation-routine-asc2020-tips-up-to-0209" class="md-nav__link">
    <span class="md-ellipsis">
      Vacation routine: ASC2020 tips (up to 02/09)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windows重装系统步骤" class="md-nav__link">
    <span class="md-ellipsis">
      windows重装系统步骤
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#安装centos虚拟机以及配置gameboylive记录" class="md-nav__link">
    <span class="md-ellipsis">
      安装centos虚拟机以及配置gameboy.live记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#risc-v报告" class="md-nav__link">
    <span class="md-ellipsis">
      RISC-V报告
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#嵌入式技术基础与实践-第五版" class="md-nav__link">
    <span class="md-ellipsis">
      嵌入式技术基础与实践 第五版
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    分类
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/homelab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    homelab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E4%B8%AA%E4%BA%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E5%8D%9A%E5%AE%A2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    博客
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E8%87%AA%E7%94%B1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何实现网络自由
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E5%AD%A6%E4%B9%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    学习
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    折腾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E6%9D%82%E6%96%87/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    杂文
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    编程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E8%99%9A%E6%8B%9F%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    虚拟化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E8%AE%BE%E5%A4%87/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    设备
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E8%AF%BE%E7%A8%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    课程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../category/%E9%98%85%E8%AF%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    阅读
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="2020">2020<a class="headerlink" href="#2020" title="Permanent link">&para;</a></h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-10-11 23:05:13">2020年10月11日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-meta__link">折腾</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 9 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="安装linux后的配置"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-12-%E5%AE%89%E8%A3%85linux%E5%90%8E%E7%9A%84%E9%85%8D%E7%BD%AE/">安装linux后的配置</a></h2>
<div class="toc">
<ul>
<li><a href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-12-%E5%AE%89%E8%A3%85linux%E5%90%8E%E7%9A%84%E9%85%8D%E7%BD%AE/#安装linux后的配置">安装linux后的配置</a></li>
</ul>
</div>
<h3 id="概述"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-12-%E5%AE%89%E8%A3%85linux%E5%90%8E%E7%9A%84%E9%85%8D%E7%BD%AE/#概述">概述</a></h3>
<p>不想每次配置linux都需要重新去搜索，因此在自己平时折腾时顺便记录一下（长期更新）</p>

    <nav class="md-post__action">
      <a href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-12-%E5%AE%89%E8%A3%85linux%E5%90%8E%E7%9A%84%E9%85%8D%E7%BD%AE/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-10-11 23:04:42">2020年10月11日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E5%AD%A6%E4%B9%A0/" class="md-meta__link">学习</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="wsl记录"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-WSL%E8%AE%B0%E5%BD%95/">WSL记录</a></h2>
<h3 id="概述"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-WSL%E8%AE%B0%E5%BD%95/#概述">概述</a></h3>
<p>发现使用wsl + docker + vs code(remote wsl + remote container插件)可以让开发、部署、运行整个流程变得更加方便。因此想写一篇文章记录接触wsl后了解到的一些知识以及遇到的一些问题以及解决方案（长期更新）。</p>

    <nav class="md-post__action">
      <a href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-WSL%E8%AE%B0%E5%BD%95/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-10-11 23:03:51">2020年10月11日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E5%AD%A6%E4%B9%A0/" class="md-meta__link">学习</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 6 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="字体分类"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-%E5%AD%97%E4%BD%93%E5%88%86%E7%B1%BB/">字体分类</a></h2>
<div class="toc">
<ul>
<li><a href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-%E5%AD%97%E4%BD%93%E5%88%86%E7%B1%BB/#字体分类">字体分类</a></li>
</ul>
</div>
<h3 id="概述"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-%E5%AD%97%E4%BD%93%E5%88%86%E7%B1%BB/#概述">概述</a></h3>
<p>目前还没有一种统一的字体分类方法。因此本文从易于理解的角度，使用4个维度对字体进行分类。</p>
<p>简单来说，确定了大小、粗细、样式和字体系列后便确定了一种字体。</p>
<h4 id="font-family"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-%E5%AD%97%E4%BD%93%E5%88%86%E7%B1%BB/#font-family">font family</a></h4>
<p><strong>字体系列</strong>(font family)表示符合同一种设计风格的字体的集合。比如大名鼎鼎的Helvetica字体就因醒目，清晰而广泛应用于广告，宣传语等场合。Time New Roman也是一种使用非常广泛的字体。</p>
<p>一种字体系列包含多种变体字体，如Times包含TimeIt(倾斜), TimeBd(加粗)等。我们口语中说的某一种字体，其实通常说的是一种字体系列。</p>
<p>而对于现有的五花八门的字体系列，可以根据一些特点分成5类，也叫<strong>通用字体系列</strong>(generic font families)。如Helvetica就属于无衬线(sans serif)字体。</p>
<p>以下是字体系列的5种类别</p>

    <nav class="md-post__action">
      <a href="../../%E5%AD%A6%E4%B9%A0/2020/10/11/2020-10-11-%E5%AD%97%E4%BD%93%E5%88%86%E7%B1%BB/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-10-11 23:03:15">2020年10月11日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-meta__link">折腾</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="在虚拟机上搭建overleaf"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-10-%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A%E6%90%AD%E5%BB%BAoverleaf/">在虚拟机上搭建overleaf</a></h2>
<div class="toc">
<ul>
<li><a href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-10-%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A%E6%90%AD%E5%BB%BAoverleaf/#在虚拟机上搭建overleaf">在虚拟机上搭建overleaf</a></li>
</ul>
</div>
<h3 id="概述"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-10-%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A%E6%90%AD%E5%BB%BAoverleaf/#概述">概述</a></h3>
<p>因为学校的overleaf无法通过latex代码定位到pdf位置。因此想在本地搭建一个latex环境，而如果在windows里安装texlive+配置VS code比较麻烦，且以后重装系统又无法保留，因此考虑在ubuntu虚拟机里安装。</p>
<p>这里考虑同样搭建一个overleaf，毕竟在主机里打开浏览器直接就能用就很方便，且界面也更美观。</p>
<p>overleaf采用了docker进行部署，因此需要先安装docker。</p>
<hr />
<p>更新</p>
<p>在virtualbox虚拟机搭建后发现存在性能问题。以编译计组指导书为例，每次修改编译需要1分钟，并且经常出现编译2-3分钟然后失败的情况。</p>
<p>在查阅wsl性能比较后，发现wsl2的性能已经比较好了，有些场合接近原生linux的性能。参考<a href="https://www.phoronix.com/scan.php?page=article&amp;item=windows10-may2020-wsl2&amp;num=1">Windows 10 May 2020 Performance For WSL vs. WSL2</a></p>
<p>于是补充了在wsl2上搭建的内容。</p>

    <nav class="md-post__action">
      <a href="../../%E6%8A%98%E8%85%BE/2020/10/11/2020-10-10-%E5%9C%A8%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%8A%E6%90%AD%E5%BB%BAoverleaf/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-09-20 23:52:30">2020年9月20日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E8%AF%BE%E7%A8%8B/" class="md-meta__link">课程</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 6 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="ucore-lab3-总结"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/09/20/2020-09-20-ucore-lab3-%E6%80%BB%E7%BB%93/">ucore lab3 总结</a></h2>
<h4 id="目录"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/09/20/2020-09-20-ucore-lab3-%E6%80%BB%E7%BB%93/#目录">目录</a></h4>
<ol>
<li>x86中断/异常处理(tss和tf作用)</li>
<li>重要函数说明<ol>
<li>创建进程(线程)</li>
<li>调度，运行</li>
<li>do_wait &amp; do_exit</li>
<li>do_execve</li>
<li>其它系统调用</li>
</ol>
</li>
<li>FAQ<ol>
<li>一个进程被创建后如何开始执行？ </li>
<li>一个用户进程如果因为时间片用完而被调度掉后，再次被调度回来时会从哪里继续执行？ </li>
<li>一个进程的完整生命周期？ </li>
<li>fork调用，为什么父进程返回值为pid，子进程返回值为0（<strong>涉及到用户进程的创建</strong>）</li>
</ol>
</li>
</ol>
<h4 id="总结"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/09/20/2020-09-20-ucore-lab3-%E6%80%BB%E7%BB%93/#总结">总结</a></h4>
<p>实验3涉及到的知识点：</p>
<ol>
<li>x86中断中tss的作用（类似的内核栈，中断帧的概念）</li>
<li>进程如何创建、执行、切换（do_fork, do_wait, do_exit等系统调用的设计与实现）</li>
<li>用户进程的创建、执行过程</li>
<li>用户ulib库fork, wait, exit的实现</li>
</ol>

    <nav class="md-post__action">
      <a href="../../%E8%AF%BE%E7%A8%8B/2020/09/20/2020-09-20-ucore-lab3-%E6%80%BB%E7%BB%93/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-09-14 20:59:11">2020年9月14日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E8%AF%BE%E7%A8%8B/" class="md-meta__link">课程</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 3 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="ucore-lab2总结"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/09/14/2020-09-14-ucore-lab2%E6%80%BB%E7%BB%93/">ucore lab2总结</a></h2>
<h3 id="概述"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/09/14/2020-09-14-ucore-lab2%E6%80%BB%E7%BB%93/#概述">概述</a></h3>
<p>回顾实验1，我觉得需要学习的知识有：</p>
<ol>
<li><strong>gdb</strong>工具的使用</li>
<li><strong>ELF</strong>文件的格式，以及readelf, objdump, objcopy工具的使用（查看各个section，查看符号表）</li>
<li>x86汇编基础（通用寄存器，段寄存器，EIP，EFLAG等），GCC<strong>内联汇编</strong>格式（AT&amp;T格式）</li>
<li>x86内存<strong>分段</strong>机制（GDT表，段描述符）</li>
<li>x86<strong>中断</strong>处理机制（IDT表，中断向量 -&gt; 中断处理程序）</li>
<li>操作系统启动过程（BIOS-&gt;bootloader(第一扇区)-&gt;Kernel各阶段做的事情）</li>
</ol>
<p>而做完实验2后，我觉得需要学习的知识有：</p>
<ol>
<li>BIOS探测物理内存，Kernel打开分页时自带一个页表</li>
<li><strong>二级页表</strong>进行虚拟地址转换</li>
<li>物理内存管理 之 <strong>空闲块</strong>(以页为单位)管理（Page数据结构和物理页的对应，空闲块链表free_list，FirstHit分配连续的物理页）</li>
<li>虚拟内存管理 之 <strong>有效虚拟页</strong>（表示一个程序可能使用的虚拟地址段，vma, mm数据结构）</li>
<li>导致<strong>PageFault</strong>的原因（1. pte=0即从来没有被加载过, 2. 被swap out, 3. 访问权限错误）</li>
<li><strong>FIFO页替换</strong>算法实现（page struct增加pra_page_link, pra_vaddr，mm-&gt;sm_priv(<strong>pra_list_header</strong>)记录最近使用的页序列；swap_manager）</li>
</ol>
<p>以下介绍一些难点</p>

    <nav class="md-post__action">
      <a href="../../%E8%AF%BE%E7%A8%8B/2020/09/14/2020-09-14-ucore-lab2%E6%80%BB%E7%BB%93/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-09-07 20:56:47">2020年9月7日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E4%B8%AA%E4%BA%BA/" class="md-meta__link">个人</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="关于2020到目前的一个总结"><a class="toclink" href="../../%E4%B8%AA%E4%BA%BA/2020/09/07/2020-09-07-%E5%85%B3%E4%BA%8E2020%E5%88%B0%E7%9B%AE%E5%89%8D%E7%9A%84%E4%B8%80%E4%B8%AA%E6%80%BB%E7%BB%93/">关于2020到目前的一个总结</a></h2>
<p>2020年对全人类来说是不平凡的一年，而对我来说也是不同寻常的一年。这一年发生了许多大大小小的事，有些事情身处其中时觉得非常不得了，而经历过后，又觉得也许很快就会忘记，因此想记录一些这一年我都干了些什么事。</p>

    <nav class="md-post__action">
      <a href="../../%E4%B8%AA%E4%BA%BA/2020/09/07/2020-09-07-%E5%85%B3%E4%BA%8E2020%E5%88%B0%E7%9B%AE%E5%89%8D%E7%9A%84%E4%B8%80%E4%B8%AA%E6%80%BB%E7%BB%93/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-09-07 19:02:24">2020年9月7日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-meta__link">折腾</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="virtual-box配置双网卡"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/09/07/2020-09-07-Virtual-Box%E9%85%8D%E7%BD%AE%E5%8F%8C%E7%BD%91%E5%8D%A1/">Virtual Box配置双网卡</a></h2>
<p>由于目前在电脑上运行一个虚拟机已经比较流畅，而虚拟机又有着真机无法比拟的优势，如：
- 可以快速地进行备份与还原，且备份的虚拟机镜像可以复制到其它电脑上
- 可以保存虚拟机当前的运行状态（快速休眠），而下次启动时恢复运行（且速度很快）</p>
<p>因此我配置了一台Ubuntu18.0的虚拟机，并做了以下配置：</p>
<ul>
<li>配置了build-essential, python3, git, vim等常用软件</li>
<li>配置了zsh，以及一些zsh的插件如自动提示，命令高亮，auto-jump</li>
<li>配置了VS Code, Chromium软件</li>
<li>配置了nodejs, cnpm, hexo等，用于编写hexo博客</li>
<li>启动sshd，并配置网络</li>
</ul>
<p>其中，关于最后一点。刚开始我采用了桥接网络+静态ip的方案。但是发现当主机网络环境改变时，ssh便连接不上了，于是便有了这篇博客。</p>

    <nav class="md-post__action">
      <a href="../../%E6%8A%98%E8%85%BE/2020/09/07/2020-09-07-Virtual-Box%E9%85%8D%E7%BD%AE%E5%8F%8C%E7%BD%91%E5%8D%A1/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-05-31 22:50:15">2020年5月31日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E8%AF%BE%E7%A8%8B/" class="md-meta__link">课程</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="编译原理总结"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/05/31/2020-05-31-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93/">编译原理总结</a></h2>
<h3 id="目前我眼中的计算机层次"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/05/31/2020-05-31-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93/#目前我眼中的计算机层次">目前我眼中的计算机层次：</a></h3>
<ul>
<li>计算机体系结构（RTL级设计，流水线，缓存，多发射）</li>
<li>ISA （访存模式，中断/异常）</li>
<li>汇编语言（寄存器+内存空间）</li>
<li>高级语言 （编译器）</li>
<li>操作系统（内核：进程调度，同步与死锁，内存管理：页表，文件系统 
    应用：桌面系统，浏览器）</li>
</ul>
<h3 id="编译器各阶段"><a class="toclink" href="../../%E8%AF%BE%E7%A8%8B/2020/05/31/2020-05-31-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93/#编译器各阶段">编译器各阶段</a></h3>
<ol>
<li>
<p><strong>词法分析</strong>：解析源代码文件，输出记号流。
记号即指一个有独立意义的“单词”。空白字符便一般不包含意义，故可以省略。
这些单词一般可分类为：标识符，常数（整数，浮点数），字符常量，字符串，
操作符，界符，关键字。</p>
</li>
<li>
<p><strong>语法分析</strong>：分析记号流，输出程序的逻辑结构，如语法分析树（或AST树）
一种语言的语法规则可以被文法产生式完全定义。
文法一般包括表达式的定义，各种语句的定义（if, while, for），变量声明，
函数定义等。</p>
</li>
</ol>

    <nav class="md-post__action">
      <a href="../../%E8%AF%BE%E7%A8%8B/2020/05/31/2020-05-31-%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-04-09 12:00:00">2020年4月9日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-meta__link">折腾</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 3 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="cloudview平台运行bad-apple"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/04/09/2020-04-09-CloudView%E5%B9%B3%E5%8F%B0%E8%BF%90%E8%A1%8Cbad%20apple/">CloudView平台运行bad apple</a></h2>
<p>重写了bad-apple的代码，利用了多进程的方式进行视频转换。</p>
<p>以下是各个配置转换bad apple.mp4的时间</p>
<table>
<thead>
<tr>
<th></th>
<th>线性执行</th>
<th>4线程</th>
<th>1进程</th>
<th>2进程</th>
<th>4进程</th>
<th>8进程</th>
<th>16进程</th>
</tr>
</thead>
<tbody>
<tr>
<td>时间(秒)</td>
<td>34.97</td>
<td>34.70</td>
<td>35.05</td>
<td>24.15</td>
<td>18.11</td>
<td>18.09</td>
<td>18</td>
</tr>
</tbody>
</table>
<p>其中线程为采用threading库，进程则采用multiprocessing库</p>
<p>我的电脑配置为：</p>
<table>
<thead>
<tr>
<th>CPU</th>
<th>intel(R) Core(TM) i5-7200U CPU @ 2.50GHz 2.70GHz</th>
</tr>
</thead>
<tbody>
<tr>
<td>RAM</td>
<td>8.00 GB</td>
</tr>
<tr>
<td>Windows</td>
<td>Windows10 家庭版 1909 18363.720</td>
</tr>
</tbody>
</table>
<p>官方文档说明了threading库底层实现时仍只有一个线程，因而只适用于大量I/O并发的情况。而我们的图片转换成字符画的过程主要是计算密集型，因此基本没有改善性能。</p>
<p>而采用多进程时，刚好对应我电脑的4线程（2核，采用超线程技术可以有4个线程，其实这里进程线程有点晕）时提升最大。</p>
<p>于是便想知道32个核时，能提升多少，便想在服务器上跑跑看。以下是配置运行过程。</p>
<p>出人意料的结果：</p>
<table>
<thead>
<tr>
<th></th>
<th>1进程</th>
<th>4线程</th>
<th>8进程</th>
<th>16进程</th>
<th>32进程</th>
</tr>
</thead>
<tbody>
<tr>
<td>时间(秒)</td>
<td>51</td>
<td>24</td>
<td>23.22</td>
<td>21.57</td>
<td>21.14</td>
</tr>
</tbody>
</table>
<p>可能进程多了后，写文件的速度反而成了瓶颈，查看top发现各个核的cpu利用率都只有10%左右，在代码中输出cvt_frame.qsize()也发现几乎都是满的。（在自己电脑上大多数都是0，表明cvt_frame供不应求）</p>

    <nav class="md-post__action">
      <a href="../../%E6%8A%98%E8%85%BE/2020/04/09/2020-04-09-CloudView%E5%B9%B3%E5%8F%B0%E8%BF%90%E8%A1%8Cbad%20apple/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-03-01 01:25:00">2020年3月1日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E5%AD%A6%E4%B9%A0/" class="md-meta__link">学习</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="use-dlib-in-c"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/">Use dlib in C++</a></h2>
<h3 id="use-dlib-in-c_1"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#use-dlib-in-c_1">use dlib in c++</a></h3>
<p>从方法1.1到1.3都不必预编译dlib库，而是在使用dlib的项目中编译。</p>
<p>方法1.4介绍了将dlib预编译成静态库然后使用时会遇到的一些问题。</p>
<h4 id="with-cmakeofficially-recommend"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#with-cmakeofficially-recommend">with CMake(officially recommend)</a></h4>
<p>看<code>dlib/example/CMakeLists.txt</code></p>
<div class="language-cmake highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">2.8.12</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nb">project</span><span class="p">(</span><span class="s">examples</span><span class="p">)</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c"># Tell cmake we will need dlib.  This command will pull in dlib and compile it</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c"># into your project.  Note that you don&#39;t need to compile or install dlib.  All</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c"># cmake needs is the dlib source code folder and it will take care of everything.</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="nb">add_subdirectory</span><span class="p">(</span><span class="s">./dlib</span><span class="w"> </span><span class="s">dlib_build</span><span class="p">)</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="nb">macro</span><span class="p">(</span><span class="s">add_example</span><span class="w"> </span><span class="s">name</span><span class="p">)</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">   </span><span class="nb">add_executable</span><span class="p">(</span><span class="o">${</span><span class="nv">name</span><span class="o">}</span><span class="w"> </span><span class="o">${</span><span class="nv">name</span><span class="o">}</span><span class="s">.cpp</span><span class="p">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">   </span><span class="nb">target_link_libraries</span><span class="p">(</span><span class="o">${</span><span class="nv">name</span><span class="o">}</span><span class="w"> </span><span class="s">dlib::dlib</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nb">endmacro</span><span class="p">()</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="c"># if an example requires GUI, call this macro to check DLIB_NO_GUI_SUPPORT to include or exclude</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="nb">macro</span><span class="p">(</span><span class="s">add_gui_example</span><span class="w"> </span><span class="s">name</span><span class="p">)</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">   </span><span class="nb">if</span><span class="w"> </span><span class="p">(</span><span class="s">DLIB_NO_GUI_SUPPORT</span><span class="p">)</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">      </span><span class="nb">message</span><span class="p">(</span><span class="s2">&quot;No GUI support, so we won&#39;t build the ${name} example.&quot;</span><span class="p">)</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">   </span><span class="nb">else</span><span class="p">()</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">      </span><span class="nb">add_example</span><span class="p">(</span><span class="o">${</span><span class="nv">name</span><span class="o">}</span><span class="p">)</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">   </span><span class="nb">endif</span><span class="p">()</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="nb">endmacro</span><span class="p">()</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="c"># </span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="nb">add_gui_example</span><span class="p">(</span><span class="s">3d_point_cloud_ex</span><span class="p">)</span>
</span></code></pre></div>
<p>命令行执行：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>mkdir<span class="w"> </span>build
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nb">cd</span><span class="w"> </span>build
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>cmake<span class="w"> </span>..<span class="w"> </span>-G<span class="w"> </span><span class="s2">&quot;Visual Studio 14 2015 Win64&quot;</span><span class="w"> </span>-T<span class="w"> </span><span class="nv">host</span><span class="o">=</span>x64<span class="w"> </span><span class="c1">#-T host=x64告诉CMake生成64bit的可执行文件。其实安装了最新的VisualStudio后，-G -T都不用指定，默认使用最新的VisualStudio，默认64位。</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>cmake<span class="w"> </span>--build<span class="w"> </span>.<span class="w"> </span>--config<span class="w"> </span>Release
</span></code></pre></div>
<p>使用CMake GUI可以设置一些选项，configure, generate之后可以使用命令行执行最后一步(不用打开VisualStudio)</p>
<h4 id="with-gcc-in-terminal"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#with-gcc-in-terminal">with GCC in terminal</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>g++<span class="w"> </span>-std<span class="o">=</span>c++11<span class="w"> </span>-O3<span class="w"> </span>-I..<span class="w"> </span>../dlib/all/source.cpp<span class="w"> </span>-lpthread<span class="w"> </span>-lX11<span class="w"> </span>example_program_name.cpp
</span></code></pre></div>
<p>windows下还需<code>gdi32, comctl32, user32, winmm, ws2_32, or imm32</code>库</p>
<h4 id="with-visualstudio"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#with-visualstudio">with VisualStudio</a></h4>
<ul>
<li>把dlib的<strong>父目录</strong>添加到include search path</li>
</ul>
<blockquote>
<p>You should <em>NOT</em> add the dlib folder itself to your compiler's include path. 
  Doing so will cause the build to fail because of name collisions (such as 
  dlib/string.h and string.h from the standard library). Instead you should 
  add the folder that contains the dlib folder to your include search path 
  and then use include statements of the form #include <dlib/queue.h> or
  #include "dlib/queue.h".  This will ensure that everything builds correctly.</p>
</blockquote>
<ul>
<li>把 dlib/all/source.cpp 添加到源文件</li>
</ul>
<blockquote>
<p>If you are using Visual Studio you add .cpp files to your application using
  the solution explorer window.  Specifically, right click on Source Files,
  then select Add -&gt; Existing Item and select the .cpp files you want to add.</p>
</blockquote>
<ul>
<li>如果需要libjpeg等，把dlib/external文件夹下的源文件添加到project，并 define the DLIB_PNG_SUPPORT and DLIB_JPEG_SUPPORT preprocessor directives. </li>
</ul>
<h4 id="installing-dlib-as-a-precompiled-library"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#installing-dlib-as-a-precompiled-library">Installing dlib as a precompiled library</a></h4>
<p>dlib的CMake脚本包含INSTALL target，因此可以像其它C++库一样将dlib作为一个静态或动态库安装到系统上。</p>
<ul>
<li><strong>使用预编译的库时，必须保证项目中使用的所有库都是同一个版本的VisualStudio编译出来的。</strong></li>
</ul>
<p>说明：<a href="http://siomsystems.com/mixing-visual-studio-versions/">Mixing Multiple Visual Studio Versions in a Program is Evil</a></p>
<ul>
<li>调用dlib时出现USER_ERROR <strong>inconsistent_build_configuration</strong> see_dlib_faq_2错误。
  需要将build/dlib/config.h文件拷贝到源码目录dlib-19.17/dlib进行覆盖。config.h文件内有其说明。</li>
</ul>
<h3 id="配置3d_face_reconstruction总结"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#配置3d_face_reconstruction总结">配置3d_face_reconstruction总结</a></h3>
<h4 id="1-opencv"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#1-opencv">1. OpenCV</a></h4>
<ol>
<li>
<p>windows下载预编译版(只含有msvc编译的版本)</p>
</li>
<li>
<p>CMake直接使用find_packages即可。（需添加环境变量，以便找到OpenCV的config文件）</p>
</li>
</ol>
<h4 id="2-dlib"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#2-dlib">2. dlib</a></h4>
<ol>
<li>官方推荐将代码直接包含到项目中编译（好处是没有ABI一致性问题）</li>
</ol>
<p>CMake中add_subdirectory(/path/to/dlib/top/dir)即可。（甚至可以自动从网上下载）</p>
<h4 id="3-boost"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#3-boost">3. boost</a></h4>
<ol>
<li>分为只含有头文件的库和需要独立编译的库。</li>
<li>官方编译方法为：</li>
<li>先build出Boost.Build（可以看作Boost的一个build工具）</li>
<li>然后调用b2编译指定模块。（可以添加参数指定编译的库的路径）</li>
<li>我的编译目录是stage/（库位于stage/lib/下）</li>
<li>CMake find_packages暂时是失败的。</li>
</ol>
<h4 id="4-eos"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#4-eos">4. eos</a></h4>
<ol>
<li>只需要包含头文件即可(header only)，include和3rdparty</li>
<li>顶层目录下的CMakeLists.txt默认勾选了编译example下的示例（需要boost的system, filesystem, program_options和openCV的core, higui, imgproc</li>
<li>CMake直接add_subdirectory(/path/to/eos)比较方便。</li>
</ol>
<h4 id="5-qt"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#5-qt">5. Qt</a></h4>
<ol>
<li>官方介绍了如何使用CMake find_packages，自动tic, moc等。</li>
</ol>
<h4 id="todo"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/#todo">TODO</a></h4>
<ol>
<li>学习Qt，能自己写界面。</li>
<li>明白eos那个示例程序输入输出是什么</li>
<li>最后，自己来改写eos的程序，自己写Qt程序，最后展示出来。</li>
</ol>
    <nav class="md-post__action">
      <a href="../../%E5%AD%A6%E4%B9%A0/2020/03/01/2020-02-29-use-dlib-in-c%2B%2B/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-29 12:00:00">2020年2月29日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E5%AD%A6%E4%B9%A0/" class="md-meta__link">学习</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="安装使用opencvwindows"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/">安装使用OpenCV(windows)</a></h2>
<h3 id="install"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#install">Install</a></h3>
<h4 id="安装预编译版"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#安装预编译版">安装预编译版</a></h4>
<p>在<a href="https://opencv.org/releases.html">opencv.org</a>上提供了源代码以及各个操作系统的预编译版。windows预编译版为一个installer程序，运行后会将各种文件extract到安装目录。安装完成后，<code>/path/to/opencv/</code>包含两个目录——build, source。source为源代码目录(和直接下载源代码解压一模一样)，build下包含了许多其它文件。其中:</p>
<ul>
<li>
<p><strong>include/</strong>为调用OpenCV时需要包含的头文件(源代码目录下也有)</p>
</li>
<li>
<p><strong>x64/vcxx/</strong>下包含bin/和lib/，为预编译的库。vcxx代表使用MSVC xx编译的，运行时需要对应的runtime库。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>IDE</th>
<th>编译器</th>
</tr>
</thead>
<tbody>
<tr>
<td>VS2017</td>
<td>VC15</td>
</tr>
<tr>
<td>VS2015</td>
<td>VC14</td>
</tr>
<tr>
<td>VS2013</td>
<td>VC12</td>
</tr>
<tr>
<td>VS2012</td>
<td>VC11</td>
</tr>
<tr>
<td>VS2010</td>
<td>VC10</td>
</tr>
<tr>
<td>VS2008</td>
<td>VC9</td>
</tr>
<tr>
<td>VS2005</td>
<td>VC8</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong>etc/</strong>文件夹中是OpenCV某些算法所依赖的数据集。</p>
</li>
<li>
<p><strong><code>OpenCVConfig.cmake</code></strong>文件在使用CMake编译项目时可使用find_package自动搜索头文件、库文件路径</p>
</li>
<li>
<p>其它文件暂时不管</p>
</li>
</ul>
<h4 id="从源文件编译opencv"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#从源文件编译opencv">从源文件编译OpenCV</a></h4>
<p>略</p>
<h3 id="usage"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#usage">Usage</a></h3>
<h4 id="通过visualstudio编译opencv程序"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#通过visualstudio编译opencv程序">通过VisualStudio编译OpenCV程序</a></h4>
<ol>
<li>
<p>菜单栏project-&gt;properities。（或在右侧的Solution Explorer下找到一个project(solution和project的关系)。鼠标右键-&gt;Properities）</p>
</li>
<li>
<p>C/C++/AdditionalIncludeDirectories。编译器从该文件夹下查找头文件。</p>
</li>
</ol>
<p>(<em>p.s.</em> <code>#include "opencv2/opencv.hpp"</code>和<code>#include "opencv.hpp"</code>对应不同的设置)</p>
<ol>
<li>
<p>Linker/Input/AdditionalDependencies 添加<code>opencv_world420.lib</code></p>
</li>
<li>
<p>Linker/General/AdditionalLibraryDirectories 添加<code>opencv_world420.lib</code>所在目录。（或直接在3中输入绝对路径）</p>
</li>
<li>
<p>设置环境变量，把<code>opencv_world420.dll</code>所在目录添加到Path变量。(否则运行时报错: 无法找到<code>opencv_world420.dll</code>)。不添加环境变量的方法是直接把<code>opencv_world420.dll</code>拷贝到exe所在目录。</p>
</li>
</ol>
<p><em>p.s.</em> 貌似<code>opencv_world420.lib</code>表面上是一个静态链接库，但实际上是一个动态链接库，因而运行时需要<code>opencv_world420.dll</code>。而第3步如若改成添加<code>opencv_world420.dll</code>，则编译失败。</p>
<blockquote>
<p>LNK1107 could also occur if you attempt to pass a module (.dll or .netmodule extension created with <a href="https://docs.microsoft.com/en-us/cpp/build/reference/clr-common-language-runtime-compilation?view=vs-2019">/clr:noAssembly</a> or <a href="https://docs.microsoft.com/en-us/cpp/build/reference/noassembly-create-a-msil-module?view=vs-2019">/NOASSEMBLY</a>) to the linker; pass the .obj file instead. </p>
</blockquote>
<h4 id="通过cmake编译opencv程序"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#通过cmake编译opencv程序">通过CMake编译OpenCV程序</a></h4>
<p>参考：<a href="https://docs.opencv.org/2.4/doc/tutorials/introduction/linux_gcc_cmake/linux_gcc_cmake.html">Using OpenCV with gcc and CMake</a></p>
<p>通过CMake编译OpenCV程序有几点好处：</p>
<ul>
<li>
<p>在Windows和Linux之间移植程序不用更改设置。</p>
</li>
<li>
<p>自动搜索include，lib路径。(通过<code>OpenCVConfig.cmake</code>文件，需添加到Path环境变量)</p>
</li>
<li>写代码的方式比VisualStudio点击按钮然后输入方便，配置的文件可以保留下来用于其它项目。</li>
</ul>
<p>缺点：</p>
<ul>
<li>
<h2 id="include-某个文件vs-code不会自动提示不会自动自动补全函数不会显示函数文档"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/#include-某个文件vs-code不会自动提示不会自动自动补全函数不会显示函数文档">include 某个文件，VS Code不会自动提示，不会自动自动补全函数，不会显示函数文档</a></h2>
</li>
</ul>
<p>（可以先用CMake配置好include, lib后，生成sln并用VS打开）</p>
<p>步骤：</p>
<ol>
<li>
<p>添加<code>opencv/build/</code>到Path(<code>OpenCVConfig.cmake</code>所在目录)。</p>
</li>
<li>
<p>编写<code>CMakeLists.txt</code>。示例：</p>
</li>
</ol>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>cmake_minimum_required(VERSION 2.8)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>project( DisplayImage )
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>find_package( OpenCV REQUIRED ) //
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>add_executable( DisplayImage DisplayImage.cpp )
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>target_link_libraries( DisplayImage ${OpenCV_LIBS} ) //
</span></code></pre></div>
<ol>
<li>使用CMake GUI，点击configure(可以先File-&gt;Delete Cache，删除掉之前的配置)</li>
</ol>
<p>选择VS的编译器。</p>
<ol>
<li>
<p>在中间面板修改一些变量的值。（重新configure）</p>
</li>
<li>
<p>Generate，在build目录下生成VS的sln文件，双击打开。</p>
</li>
<li>
<p>在ALL_BUILD上右键build。</p>
</li>
</ol>
    <nav class="md-post__action">
      <a href="../../%E5%AD%A6%E4%B9%A0/2020/02/29/2020-02-29-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8OpenCV%28windows%29/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-16 00:07:30">2020年2月16日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E5%AD%A6%E4%B9%A0/" class="md-meta__link">学习</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="运行hpl"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/">运行HPL</a></h2>
<h3 id="编译blascblas"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/#编译blascblas">编译BLAS/CBLAS</a></h3>
<p>BLAS为fortran接口的库，CBLAS为C语言接口的库</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="w"> </span>tar<span class="w"> </span>zxf<span class="w"> </span>blas-3.8.0.tgz<span class="w"> </span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w"> </span>tar<span class="w"> </span>zxf<span class="w"> </span>cblas.tgz
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>BLAS-3.8.0
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w"> </span>make<span class="w"> </span><span class="c1">#生成blas_LINUX.a</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w"> </span>cp<span class="w"> </span>blas_LINUX.a<span class="w"> </span>../CBLAS
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>../CBLAS
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w"> </span>vi<span class="w"> </span>Makefile.in
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w"> </span><span class="c1">#修改</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w"> </span><span class="c1"># BLLIB = ../blas_LINUX.a</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w"> </span>make<span class="w"> </span><span class="c1">#在lib/下生成cblas_LINUX.a</span>
</span></code></pre></div>
<h3 id="编译hpl"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/#编译hpl">编译HPL</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>tar<span class="w"> </span>zxf<span class="w"> </span>hpl-2.3.tar.gz<span class="w"> </span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nb">cd</span><span class="w"> </span>hpl-2.3
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>cp<span class="w"> </span>setup/Make.Linux_PII_CBLAS<span class="w"> </span>./Make.&lt;arch&gt;<span class="w"> </span><span class="c1">#在top-level 文件夹下</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>vi<span class="w"> </span>Make.&lt;arch&gt;<span class="w"> </span><span class="c1">#修改</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>make<span class="w"> </span>&lt;arch&gt;<span class="w"> </span><span class="c1">#在bin/&lt;arch&gt;/下生成HPL.dat xhpl</span>
</span></code></pre></div>
<h4 id="make示例"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/#make示例">Make.<arch>示例</a></h4>
<h5 id="openmpicblas"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/#openmpicblas">OpenMPI+CBLAS</a></h5>
<div class="language-makefile highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nv">ARCH</span><span class="w">         </span><span class="o">=</span><span class="w"> </span>&lt;arch&gt;
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nv">TOPdir</span><span class="w">       </span><span class="o">=</span><span class="w"> </span>/home/mpiuser/hpl-2.3
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nv">MPdir</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>/path/to/OpenMPI
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="nv">MPinc</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>-I<span class="k">$(</span>MPdir<span class="k">)</span>/include
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nv">MPlib</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="k">$(</span>MPdir<span class="k">)</span>/lib/libmpi.so
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="nv">LAdir</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="nv">LAinc</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="nv">LAlib</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>path/to/cblas_LINUX.a<span class="w"> </span>path/to/blas_LINUX.a<span class="w"> </span><span class="c1">#顺序不能改变，cblas依赖blas</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="nv">HPL_OPTS</span><span class="w">     </span><span class="o">=</span><span class="w"> </span>-DHPL_CALL_CBLAS<span class="w"> </span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="nv">CC</span><span class="w">           </span><span class="o">=</span><span class="w"> </span>mpicc
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="nv">LINKER</span><span class="w">       </span><span class="o">=</span><span class="w"> </span>mpif77
</span></code></pre></div>
<h3 id="hpl优化"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/#hpl优化">HPL优化</a></h3>
<h4 id="配置参数"><a class="toclink" href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/#配置参数">配置参数</a></h4>
<p>计算次数：</p>
<div class="arithmatex">\[
\#Ns \times \#NBs \times \#(Ps, Qs) \times \#PFACTs \times \#NBMINs \times \#BCASTs \times \#DEPTHs
\]</div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>HPLinpack benchmark input file
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Innovative Computing Laboratory, University of Tennessee
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>HPL.out      output file name (if any)
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>6            device out (6=stdout,7=stderr,file)
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>1            # of problems sizes (N)
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>8192         Ns
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>1            # of NBs
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>128          NBs
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>0            PMAP process mapping (0=Row-,1=Column-major)
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>3            # of process grids (P x Q)
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>2 1 4        Ps
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>2 4 1        Qs
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>16.0         threshold
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>3            # of panel fact
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>0 1 2        PFACTs (0=left, 1=Crout, 2=Right)
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>2            # of recursive stopping criterium
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>2 4          NBMINs (&gt;= 1)
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>2            # of panels in recursion
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>2            NDIVs
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>3            # of recursive panel fact.
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>0 1 2        RFACTs (0=left, 1=Crout, 2=Right)
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>1            # of broadcast
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>0            BCASTs (0=1rg,1=1rM,2=2rg,3=2rM,4=Lng,5=LnM)
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>1            # of lookahead depth
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>0            DEPTHs (&gt;=0)
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>2            SWAP (0=bin-exch,1=long,2=mix)
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>64           swapping threshold
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>0            L1 in (0=transposed,1=no-transposed) form
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>0            U  in (0=transposed,1=no-transposed) form
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>1            Equilibration (0=no,1=yes)
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>8            memory alignment in double (&gt; 0)
</span></code></pre></div>
    <nav class="md-post__action">
      <a href="../../%E5%AD%A6%E4%B9%A0/2020/02/16/2020-02-16-HPL-complie/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-14 02:07:30">2020年2月14日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E4%B8%AA%E4%BA%BA/" class="md-meta__link">个人</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="记录一次失眠"><a class="toclink" href="../../%E4%B8%AA%E4%BA%BA/2020/02/14/2020-02-14-%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%A4%B1%E7%9C%A0/">记录一次失眠</a></h2>
<p>今天查了一些关于保研的事，
晚上有点失眠。
我回顾了以往的事，
有初中还有高中。</p>
<p>我回忆起那时自己是怎样的模样，
我感慨有些事不记录也许就真的忘了。
我明白如果不经常眺望一下远方，
而只是低头看着现在，
时间也许眨眼就过去了。</p>
<p>要对短期的未来有所计划，
计划不是一个严格的日程表，
让自己失去自由，
而是明白你最近最想做什么，
你现在想做什么。</p>
<p>我想要:
1 我想要练习口语，为夏令营的英语自我介绍做准备
2 我想要联系一些同学，和他们聊聊未来。必定有所收获。
3 我想有一个爱好，如学会基础的日语。
4 我想在编程能力（数据结构和算法）上有所提高。</p>
<p>我发现列出愿望能让自己更加明确方向。</p>
    <nav class="md-post__action">
      <a href="../../%E4%B8%AA%E4%BA%BA/2020/02/14/2020-02-14-%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%A4%B1%E7%9C%A0/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-11 23:25:33">2020年2月11日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E5%8D%9A%E5%AE%A2/" class="md-meta__link">博客</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 3 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="井字棋与最大最小值算法"><a class="toclink" href="../../%E5%8D%9A%E5%AE%A2/2020/02/11/2020-02-11-%E4%BA%95%E5%AD%97%E6%A3%8B%E4%B8%8E%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC%E7%AE%97%E6%B3%95/">井字棋与最大最小值算法</a></h2>
<p>经过昨晚，和今天早上8点醒来趴在床上努力的思考。我终于想起了如何使用数学归纳法证明策梅洛定理。然后经过一上午的努力，我成功使用最大最小值算法实现了井字棋(Tic-Tak-Toe)的AI，然后添加到wwh的井字棋代码中。</p>

    <nav class="md-post__action">
      <a href="../../%E5%8D%9A%E5%AE%A2/2020/02/11/2020-02-11-%E4%BA%95%E5%AD%97%E6%A3%8B%E4%B8%8E%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC%E7%AE%97%E6%B3%95/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-09 22:39:14">2020年2月9日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E4%B8%AA%E4%BA%BA/" class="md-meta__link">个人</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 3 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="vacation-routine-asc2020-tips-up-to-0209"><a class="toclink" href="../../%E4%B8%AA%E4%BA%BA/2020/02/09/2020-02-09-Vacation-routine-ASC2020-tips-up-to-02-09/">Vacation routine: ASC2020 tips (up to 02/09)</a></h2>
<p>记录了这么多天弄ASC2020学到的一些知识，原本记录在txt里:-)，因此有点丑。</p>

    <nav class="md-post__action">
      <a href="../../%E4%B8%AA%E4%BA%BA/2020/02/09/2020-02-09-Vacation-routine-ASC2020-tips-up-to-02-09/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-02 19:08:52">2020年2月2日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-meta__link">折腾</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="windows重装系统步骤"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/02/02/2020-02-02-windows%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%AD%A5%E9%AA%A4/">windows重装系统步骤</a></h2>
<p>windows重装系统步骤</p>

    <nav class="md-post__action">
      <a href="../../%E6%8A%98%E8%85%BE/2020/02/02/2020-02-02-windows%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E6%AD%A5%E9%AA%A4/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-02-02 19:08:52">2020年2月2日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E6%8A%98%E8%85%BE/" class="md-meta__link">折腾</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="安装centos虚拟机以及配置gameboylive记录"><a class="toclink" href="../../%E6%8A%98%E8%85%BE/2020/02/02/2020-02-02-%E5%AE%89%E8%A3%85centos%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AEgameboy.live%E8%AE%B0%E5%BD%95/">安装centos虚拟机以及配置gameboy.live记录</a></h2>
<p>安装centos虚拟机以及配置gameboy.live记录</p>

    <nav class="md-post__action">
      <a href="../../%E6%8A%98%E8%85%BE/2020/02/02/2020-02-02-%E5%AE%89%E8%A3%85centos%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AEgameboy.live%E8%AE%B0%E5%BD%95/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-01-07 22:24:46">2020年1月7日</time></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="risc-v报告"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/">RISC-V报告</a></h2>
<p>author: 计科卓越班 袁福焱 20174260</p>
<h3 id="0-导言"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#0-导言">0. 导言</a></h3>
<p>RISC-V是21世纪诞生的一种完全开放的计算机精简指令集，可应用于小到嵌入式系统大到高性能处理器等广泛领域。RISC-V充分汲取了许多指令集的实践经验，具有非常多的优点。并且它完全开放，采用BSD开源协议——全世界任何公司、大学、个人都可以自由免费地使用RISC-V指令集构建自己的系统。</p>
<p>本报告第一部分讲述RISC-V的几个主要特点与优势，第二部分介绍RISC-V的目前已构建建的生态系统。最后一部分，谈论RISC-V在推动开源硬件中起到的作用。</p>
<h3 id="1-risc-v的特点"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#1-risc-v的特点">1. RISC-V的特点</a></h3>
<h4 id="11-指令集模块化"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#11-指令集模块化">1.1 指令集模块化</a></h4>
<p>以往的指令集为了实现兼容，往往采用增量扩展的方法。即新的处理器不仅要实现新的扩展，还必需要实现过去所有的扩展。如典型的x86架构，其中许多指令早已失效，但为了兼容性却必须实现，这导致硬件实现变得越来越复杂。RISC-V按照功能将指令集分为很多个模块。其中I模块为基础整型指令集，这是RISC-V要求必须实现的指令集，并且永远不会发生改变。只要实现了该指令集便可以运行完整的基于RISC-V的软件。这样，RISC-V在扩展时便不再会像x86那样背上沉重的历史包裹。编译器也可以在保证兼容的基础上，根据已实现的扩展，选择性地生成更高效的代码。</p>
<h4 id="12-回避以往的设计缺陷"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#12-回避以往的设计缺陷">1.2 回避以往的设计缺陷</a></h4>
<p>目前主流的指令集有x86, ARM, MIPS等。其中x86为复杂指令集(RISC)，于1978年诞生。而ARM, MIPS为精简指令集(RISC)，都是1986年诞生的。从计算机体系结构的发展上来看，RISC由于简洁性，能够更加充分地利用现代微体系结构中的流水线、分支预测、cache等技术，因此比CISC更加高效。因此，诞生于21世纪(2004)的RISC-V，必然也是精简指令集。并且，由于有了前面指令的经验，RISC-V吸收了以往指令集的优点，并回避了以往指令集的一些缺陷。优点如，RISC-V有32个通用寄存器，有专门的0寄存器。使用专门的移位指令来处理移位操作。使用load/store指令访问内存。跳转指令不使用条件码。缺陷则如，RISC-V废弃了MIPS中的分支延迟槽(有利于架构和实现的分离)，立即数只进行有符号扩展，算数运算不抛出异常(通过软件判断)，更规整的指令格式（源及目的字段位置固定），整数乘除法可选(简化了基础实现)。</p>
<h4 id="13-完全开放"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#13-完全开放">1.3 完全开放</a></h4>
<p>RISC-V采用BSD开源协议，任何人都可以自由免费地使用RISC-V。其他指令集如x86是完全闭源的，只有intel和AMD等少数公司能够基于x86架构生产产品。而ARM和MIPS都采用授权的方式，通过卖授权的方式盈利，其中ARM的授权费则十分昂贵。RISC-V如今由RISC-V基金会维护，任何公司只要愿意每年支付一笔会员费即可成为会员，会员可以参与到RISC-V之后标准的制定中。RISC-V也因此真正成为一个开放的指令集，不会因为任何一个公司的起伏而受到影响。</p>
<h3 id="2-risc-v的生态"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#2-risc-v的生态">2. RISC-V的生态</a></h3>
<p>以下内容引用自<a href="http://crva.io/documents/OpenISA-OpenSourceChip-Report.pdf">开放指令集与开源芯片进展报告-v1p1</a></p>
<blockquote>
<p>2011 年，加州大学伯克利分校发布了开放指令集 RISC-V，并很快建立起一个开源软硬件生态系统。截止 2019 年 1 月，已有包括 Google、NVidia 等在内的 200 多个公司和高校在资助和参与 RISC-V 项目。其中，部分企业已经开始将 RISC-V 集成到产品中。例如全球第一大硬盘厂商西部数据（Western Digital）最近宣布将把每年各类存储产品中嵌入的 10 亿个处理器核换成 RISC-V；Google 利用 RISC-V 来实现主板控制模块；NVidia 也将在 GPU 上引入 RISC-V 等。此外，国内阿里巴巴、华为、联想等公司都在逐步研究各自的RISC-V 实现；上海市将 RISC-V 列为重点扶持项目；印度政府也正在大力资助基于 RISC-V 的处理器项目，使 RISC-V 成为了印度的事实国家指令集。</p>
</blockquote>
<p>由此可见，RISC-V国内外的兴起使得目前RISC-V的生态已经比较完善了。</p>
<h3 id="3-之于构建开放硬件生态的意义"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#3-之于构建开放硬件生态的意义">3. 之于构建开放硬件生态的意义</a></h3>
<p>2019 年度国际计算机体系结构旗舰会议 ISCA 于 6 月在美国亚利桑那州凤凰城召开，会议的主题即是“ 面向下一代计算的敏捷开放硬件（Agile and Open Hardware for Next-Generation Computing ）”。由此可见开放硬件，敏捷开发已成为未来的趋势。而RISC-V则刚好成为这趋势中不可或缺的一环。</p>
<p>目前开源硬件开发中面临着4个关键问题(Yungang Bao, Chinese Academy of Sciences, The Four Steps to An Open-Source Chip Design Ecosystem)：</p>
<ol>
<li>开放的指令集ISA/开源IPs/开源Socs</li>
<li>硬件描述语言Lanuages/开源的EDA工具</li>
<li>验证和仿真Vertification/Simulation</li>
<li>OS/Complier</li>
</ol>
<p>RISC-V便处于第一环中，</p>
<p>虽然目前每个环节都还未完全解决，但我们可以相信，在未来，开发硬件可以像开发一个软件一样。充分利用已开源的资源，用户只需要定制10%以内的代码，便可以以月为单位开发出客制化的硬件系统。</p>
<h3 id="4-参考资料"><a class="toclink" href="../../2020/01/07/2020-02-09-RISC-V-trend/#4-参考资料">4. 参考资料</a></h3>
<p><a href="https://mp.weixin.qq.com/s/deNZzdSfxbdUoO58ok53tw">大道至简——RISC-V架构之魂（上）</a></p>
<p><a href="https://mp.weixin.qq.com/s/rB9ln7-cDb0VjtikD6KWzw">大道至简——RISC-V架构之魂（中）</a></p>
<p><a href="https://mp.weixin.qq.com/s/sIkKnJt6rQLxM5GM60OnLA">大道至简——RISC-V架构之魂（下）</a></p>
<p><a href="http://crva.io/documents/OpenISA-OpenSourceChip-Report.pdf">开放指令集与开源芯片进展报告-v1p1（2019-02-22更新）</a></p>
<p><a href="http://crva.io/documents/SIGARCH-Visioning-Workshop-Summary-Agile-and-Open-Hardware-for-Next-Generation-Computing.pdf">远景研讨会纪要–面向下一代计算的开源芯片与敏捷开发</a></p>
    <nav class="md-post__action">
      <a href="../../2020/01/07/2020-02-09-RISC-V-trend/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2020-01-01 00:00:00">2020年1月1日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="../../category/%E9%98%85%E8%AF%BB/" class="md-meta__link">阅读</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="嵌入式技术基础与实践-第五版"><a class="toclink" href="../../%E9%98%85%E8%AF%BB/2020/01/01/2020-01-01-%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E8%B7%B5/">嵌入式技术基础与实践 第五版</a></h2>
<h3 id="心得"><a class="toclink" href="../../%E9%98%85%E8%AF%BB/2020/01/01/2020-01-01-%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E8%B7%B5/#心得">心得</a></h3>
<ol>
<li>
<p>为什么单片机可以控制灯的亮灭，通用PC却没办法控制灯呢？（因为没有CPU到LED的接口也没有驱动程序）</p>
</li>
<li>
<p>中断向量机制和MIPS采用的统一入口地址不太一样。中断向量机制硬件产生中断请求时，中断号是确定了的（通过中断控制器发送中断号），软件可以配置对应中断服务程序。而MIPS没有中断号的概念，通过软件检查Stastus寄存器，来确定是哪一个中断，跳转到对应中断服务程序。</p>
</li>
</ol>
<p>中断向量机制的CPU通常需要一个中断控制器，连接在总线上。中断控制器会给CPU提供中断号。</p>
<ol>
<li>
<p>MCU本质就是一个微型计算机，包含CPU，存储器，I/O接口（控制器模块）。嵌入式开发就是要基于MCU搭建一个硬件系统（通过MCU的I/O接口连接各种需要被控制的外设），并逐层向上编写构件（驱动），最后基于构件编写嵌入式应用，从而完成需要的功能。</p>
</li>
<li>
<p>MCU由于需要通用性，使得用户可以基于MCU去搭建自己的系统，驱动自己的外设，因此每个引脚都复用多个功能。通过配置MCU内对应控制器的寄存器来配置引脚的功能。</p>
</li>
</ol>
<p>比如MSP432 100个引脚中有84个可以配置成GPIO引脚。只需要将MSP432分配的GPIO寄存器中的PxSEL0, PxSEL1寄存器（x表示端口号，有11个端口P1~P10和PJ）都置为0时，该端口的引脚即为GPIO功能。同样可以通过配置GPIO寄存器控制引脚方向作为输入还是输出，用于点亮LED灯或者接受开关输入。</p>
<p>再比如MSP432有4个增强型通用串行通信接口模块(eUSCI)，也分配了若干寄存器。通过配置寄存器可以将对应引脚配置为UART的引脚或SPI的引脚。</p>
<p>但是我们在FPGA上搭建SoC时，开发板上的灯、拨码开关和FGPA芯片的引脚是连好了的（由开发板的提供商基于FPGA芯片搭建），也就是说每个引脚作为输入还是输出是已经确定了的。我们能改变的只是——是否使用该外设。当然，不排除保留了一些引脚被接到扩展插口上（那一排排的黑色插孔）。因此在FPGA上搭建SoC后，实现外设驱动需要对外设的控制器进行配置。而嵌入式开发还多出了配置MCU内用于复用的模块寄存器。</p>

    <nav class="md-post__action">
      <a href="../../%E9%98%85%E8%AF%BB/2020/01/01/2020-01-01-%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%8A%80%E6%9C%AF%E4%B8%8E%E5%AE%9E%E8%B7%B5/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../2021/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 2021">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                2021
              </div>
            </div>
          </a>
        
        
          
          <a href="../2019/" class="md-footer__link md-footer__link--next" aria-label="下一页: 2019">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                2019
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/TheRainstorm" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.footer", "content.code.copy", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>